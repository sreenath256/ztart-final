import{r as a,j as e,c as p,L as f}from"./index-tmO2HUr7.js";import{k as b,l as g}from"./index.esm-7EgU41Cz.js";import{v as c,a as x}from"./Api-Yfgixm3F.js";import{a as j}from"./index.esm-hOfC7k_p.js";import"./iconBase-VPgEYFnN.js";const E=()=>{const[r,i]=a.useState([]),[m,o]=a.useState(!0),[n,d]=a.useState(null);a.useEffect(()=>{(async()=>{var s;try{o(!0);const l=await x.get(`${c.api_url}/api/1.0/admin/testimonial/testimonials`);i((s=l.data)==null?void 0:s.data)}catch(l){console.error("Error fetching visas:",l),d("Failed to fetch visa data")}finally{o(!1)}})()},[]);const h=async t=>{if(window.confirm("Are you sure you want to delete this visa?"))try{await x.delete(`${c.api_url}/api/1.0/admin/testimonial/delete-testimonial/${t}`),i(r.filter(s=>s._id!==t))}catch(s){console.error("Error deleting visa:",s),d("Failed to delete visa")}};return m?e.jsx(p,{}):n?e.jsx("p",{children:n}):r.length===0?e.jsx("div",{className:"w-11/12 md:w-11/12 xl:w-10/12 mx-auto min-h-[60vh] flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-6 p-8 rounded-lg bg-white shadow-xl shadow-gray-300",children:[e.jsx(j,{className:"w-20 h-20 text-gray-400"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-PoppinsBold mb-2",children:"No Visa Found"}),e.jsx("p",{className:"text-gray-500 font-PoppinsRegular mb-6",children:"It looks like there aren't any visa posted yet."})]})]})}):e.jsxs("div",{className:"container mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#00a39a] mb-6",children:"Manage Visas"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-600 font-semibold border-b",children:"Visa Image"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-600 font-semibold border-b",children:"Visa Title"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-600 font-semibold border-b",children:"Actions"})]})}),e.jsx("tbody",{children:r==null?void 0:r.reverse().map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 border-b",children:e.jsx("img",{src:t==null?void 0:t.imageURL,alt:t==null?void 0:t.title,className:"w-16 h-16 object-cover rounded"})}),e.jsx("td",{className:"px-4 py-3 border-b text-gray-700",children:t==null?void 0:t.title}),e.jsxs("td",{className:"px-4 py-3 border-b space-x-2",children:[e.jsx(f,{to:`${t.slug}/edit`,children:e.jsx("button",{className:"text-visaclr hover:bg-gray-100 p-2 rounded","aria-label":"Edit Visa",children:e.jsx(b,{size:20})})}),e.jsx("button",{className:"text-red-500 hover:bg-gray-100 p-2 rounded","aria-label":"Delete Visa",onClick:()=>h(t._id),children:e.jsx(g,{size:20})})]})]},t._id))})]})})]})};export{E as default};

import{r as l,j as e,c as p,L as b}from"./index-tmO2HUr7.js";import{k as g,l as f}from"./index.esm-7EgU41Cz.js";import{v as d,a as c}from"./Api-Yfgixm3F.js";import{a as j}from"./index.esm-hOfC7k_p.js";import"./iconBase-VPgEYFnN.js";const E=()=>{const[s,o]=l.useState([]),[x,i]=l.useState(!0),[n,h]=l.useState(null);l.useEffect(()=>{(async()=>{var r;try{i(!0);const a=await c.get(`${d.api_url}/api/1.0/admin/blog/blogs`);o((r=a.data)==null?void 0:r.data),console.log(a.data.data.length)}catch(a){console.error("Error fetching Blogs:",a),h("Failed to fetch Blog data")}finally{i(!1)}})()},[]);const m=async t=>{if(window.confirm("Are you sure you want to delete this Blog?"))try{await c.delete(`${d.api_url}/api/1.0/admin/blog/delete-blog/${t}`),o(s.filter(r=>r._id!==t))}catch(r){window.location.reload(),console.error("Error deleting Blog:",r)}};return x?e.jsx(p,{}):s.length===0?e.jsx("div",{className:"w-11/12 md:w-11/12 xl:w-10/12 mx-auto min-h-[60vh] flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-6 p-8 rounded-lg bg-white shadow-xl shadow-gray-300",children:[e.jsx(j,{className:"w-20 h-20 text-gray-400"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-PoppinsBold mb-2",children:"No Blog Found"}),e.jsx("p",{className:"text-gray-500 font-PoppinsRegular mb-6",children:"It looks like there aren't any blog posted yet."})]})]})}):n?e.jsx("p",{children:n}):e.jsxs("div",{className:"container mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#00a39a] mb-6",children:"Manage Blogs"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-600 font-semibold border-b",children:"Blog Image"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-600 font-semibold border-b",children:"Blog Title"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-600 font-semibold border-b",children:"Actions"})]})}),e.jsx("tbody",{children:s.length===0?e.jsx("p",{children:"No data found"}):s==null?void 0:s.reverse().map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 border-b",children:e.jsx("img",{src:t==null?void 0:t.imageURL,alt:t==null?void 0:t.title,className:"w-16 h-16 object-cover rounded"})}),e.jsx("td",{className:"px-4 py-3 border-b text-gray-700",children:t==null?void 0:t.title}),e.jsxs("td",{className:"px-4 py-3 border-b space-x-2",children:[e.jsx(b,{to:`${t.slug}/edit`,children:e.jsx("button",{className:"text-visaclr hover:bg-gray-100 p-2 rounded","aria-label":"Edit Blog",children:e.jsx(g,{size:20})})}),e.jsx("button",{className:"text-red-500 hover:bg-gray-100 p-2 rounded","aria-label":"Delete Blog",onClick:()=>m(t._id),children:e.jsx(f,{size:20})})]})]},t._id))})]})})]})};export{E as default};
